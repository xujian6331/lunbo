<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>轮播2</title>
	<script src="//code.jquery.com/jquery-2.1.1.min.js"></script>
	<style>
		.imgs{
			display: flex;
			align-items: flex-start;
			transition: transform 0.5s;
		}
		.imgs>img{

		}
		.window{
			width: 300px;
			overflow: hidden;
		}
		.red{color: red;}
	</style>
</head>
<body>
	<div class="window">
		<div class="imgs" id='imgs'>
			<img src="https://canna-pet.com/wp-content/uploads/2017/06/20-longest-living-dog-breeds_canna-pet-e1498599846169.jpg" height=300px width=300px alt="图片1">
			<img src="https://fthmb.tqn.com/0ui_Zw01Ht9NHJkSBlqOIC1IH44=/960x0/filters:no_upscale()/yorkshire-terrier-583788122-581630e85f9b581c0b018a00.jpg" height=300px width=300px alt="图片2">
			 <img src="33.jpg" width=300  height=300 alt="图片3">
		</div>
	</div>
	<span id=buttons>
    <span>第1张</span>
    <span>第2张</span>
    <span>第3张</span>
    </span>
	<script>
		var allbuttons=$('#buttons>span')
		for(var i=0;i<allbuttons.length;i++){
			$(allbuttons[i]).on('click' ,function(x){
				var index=$(x.currentTarget).index()
				var p=index*-300
				$(imgs).css({
					transform:'translateX('+p+'px)'
				})
				var n=index;
				allbuttons.eq(n).addClass('red').siblings('.red').removeClass('red')
			})
		}
		var n=0
		var size=allbuttons.length
		allbuttons.eq(n%size).trigger('click').addClass('red').siblings('.red').removeClass('red')
		var timerId=setInterval(()=>{
			n+=1
			allbuttons.eq(n%size).trigger('click').addClass('red').siblings('.red').removeClass('red')
			},1000)
		$('.window').on('mouseenter',function(){
			window.clearInterval(timerId)
		})
		$('.window').on('mouseleave', function() {
 		 var timerId=setInterval(()=>{
			n+=1
			allbuttons.eq(n%size).trigger('click').addClass('red').siblings('.red').removeClass('red')
			},1000)
 		})
		/*$('#p1').on('click', function(){
			$(imgs).css({
				transform:'translateX(0)'
			})
		})
		$('#p2').on('click', function(){
			$(imgs).css({
				transform:'translateX(-300px)'
			})
		})
		$('#p3').on('click', function(){
			$(imgs).css({
				transform:'translateX(-600px)'
			})
		})*/

	</script>
</body>
</html>